<template>
   <main class="page-about">
      <div class="section__title">
         <h2 class="section__header">
            <span class="highlight-section">–û–±—É—á–µ–Ω–∏–µ –¥–æ–º–∞—à–Ω–µ–º—É –ø–∏–≤–æ–≤–∞—Ä–µ–Ω–∏—é –æ–Ω–ª–∞–π–Ω üç∫</span>
         </h2>
         <p>
            –ï—Å–ª–∏ –≤—ã –º–µ—á—Ç–∞–µ—Ç–µ –Ω–∞—É—á–∏—Ç—å—Å—è –≤–∞—Ä–∏—Ç—å –≤–∫—É—Å–Ω–æ–µ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–∏–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞—Ç–º–∏—Ç –ª—é–±–æ–µ –º–∞–≥–∞–∑–∏–Ω–Ω–æ–µ, —É –≤–∞—Å –µ—Å—Ç—å
            –¥–≤–∞ –ø—É—Ç–∏:
         </p>
         <ul>
            <li>
               <strong>–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ</strong> –ø–æ –≤–∏–¥–µ–æ –∏ —Å—Ç–∞—Ç—å—è–º ‚Äî –¥–æ–ª–≥–æ, —Å–ª–æ–∂–Ω–æ –∏ —á–∞—Å—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–∞–º.
            </li>
            <li>
               <strong>–û–±—É—á–µ–Ω–∏–µ —Å –æ–ø—ã—Ç–Ω—ã–º –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–º</strong> ‚Äî –±—ã—Å—Ç—Ä–æ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ –æ—Å–≤–∞–∏–≤–∞–µ—Ç–µ –≤—Å–µ —Ç–æ–Ω–∫–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.
            </li>
         </ul>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∏ -->
      <div class="operations">
         <div class="operations__tab-container">
            <button v-for="tab in tabs" :key="tab.id" :class="[
               'btn-op',
               'operations__tab',
               `operations__tab--${tab.id}`,
               activeTab === tab.id ? 'operations__tab--active' : ''
            ]" @click="activeTab = tab.id">
               {{ tab.title }}
            </button>
         </div>

         <div v-for="tab in tabs" :key="tab.id"
            :class="['operations__content', { 'operations__content--active': activeTab === tab.id }]">
            <h3 class="operations__header">{{ tab.header }}</h3>
            <p v-if="tab.text">{{ tab.text }}</p>
            <ul v-if="tab.list">
               <li v-for="(item, index) in tab.list" :key="index">{{ item }}</li>
            </ul>
            <p v-if="tab.price" class="price">
               <span class="highlight-section">{{ tab.price }}</span>
            </p>
         </div>
      </div>

      <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ -->
      <div class="section-footer">
         <p>
            <img src="https://img.icons8.com/matisse/100/light-on.png" alt="light-on" />
            –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –º—ã –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –¥–æ–º–∞—à–Ω–∏—Ö –ø–∏–≤–æ–≤–∞—Ä–æ–≤.
            –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–º—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–º.
            <br /><br />
            <b>–ß—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∏–∂–µ:</b>
         </p>

         <!-- Netlify —Ñ–æ—Ä–º–∞ -->
         <form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" class="contact-form"
            @submit.prevent="handleSubmit">
            <input type="hidden" name="form-name" value="contact" />
            <p hidden>
               <label>–ù–µ –∑–∞–ø–æ–ª–Ω—è–π—Ç–µ —ç—Ç–æ –ø–æ–ª–µ: <input name="bot-field" /></label>
            </p>

            <div class="form-group">
               <input type="text" name="name" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è" required v-model="form.name" />
            </div>

            <div class="form-group">
               <input type="tel" name="phone" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω" required v-model="form.phone" />
            </div>

            <button type="submit" class="button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            <p v-if="successMessage" class="success">{{ successMessage }}</p>
         </form>
      </div>
   </main>
</template>

<script setup>
import { ref, reactive } from 'vue'

const form = reactive({
   name: '',
   phone: ''
})

const successMessage = ref('')

const handleSubmit = async () => {
   try {
      const formData = new FormData()
      formData.append('form-name', 'contact')
      formData.append('name', form.name)
      formData.append('phone', form.phone)

      await fetch('/', {
         method: 'POST',
         body: formData
      })

      successMessage.value = '–°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –∑–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ ‚úÖ'
      form.name = ''
      form.phone = ''
   } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã:', error)
   }

}

const activeTab = ref(1)

const tabs = [
   {
      id: 1,
      title: '–ü–æ–ª–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ',
      header: '‚úÖ –ü–æ–ª–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ —Å –Ω—É–ª—è (–æ–Ω–ª–∞–π–Ω)',
      text: '–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –æ—Å–≤–æ–∏—Ç—å –¥–æ–º–∞—à–Ω–µ–µ –ø–∏–≤–æ–≤–∞—Ä–µ–Ω–∏–µ —Å –∞–∑–æ–≤.',
      list: [
         '–†–∞–∑–±–æ—Ä –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ –ø–æ–¥–±–æ—Ä –ø–æ–¥ –≤–∞—à–∏ —Ü–µ–ª–∏.',
         '–ò–∑—É—á–µ–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø–∏–≤–æ–≤–∞—Ä–µ–Ω–∏—è.',
         '–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤.',
         '–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–π –≤–∞—Ä–∫–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.'
      ],
      price: '–°—Ç–æ–∏–º–æ—Å—Ç—å: 20 000 —Ä—É–±–ª–µ–π'
   },
   {
      id: 2,
      title: '–û–Ω–ª–∞–π–Ω-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏',
      header: '‚úÖ –û–Ω–ª–∞–π–Ω-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ —Å–ª–æ–∂–Ω—ã–º –≤–æ–ø—Ä–æ—Å–∞–º',
      text: '–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –Ω–æ –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏, –º—ã –≥–æ—Ç–æ–≤—ã –ø–æ–º–æ—á—å.',
      list: ['–†–∞–∑–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏.', '–†–µ—à–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –≤–∞—Ä–∫–µ, –±—Ä–æ–∂–µ–Ω–∏—é –∏ –¥–µ–≥—É—Å—Ç–∞—Ü–∏–∏.'],
      price: '–°—Ç–æ–∏–º–æ—Å—Ç—å: –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏)'
   },
   {
      id: 3,
      title: '–°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤',
      header: '‚úÖ –°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤',
      list: [
         '–†–µ—Ü–µ–ø—Ç, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥ –≤–∞—à–∏ –∑–∞–ø—Ä–æ—Å—ã.',
         '–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö.'
      ],
      price: '–°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞: 3 000 —Ä—É–±–ª–µ–π / —Å —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ–º: 6 000 —Ä—É–±–ª–µ–π'
   }
]
</script>

<style scoped>
.contact-form {
   display: flex;
   flex-direction: column;
   gap: 1.5rem;
   margin-top: 2rem;
}

.contact-form input {
   width: 100%;
   padding: 0.7rem;
   border-radius: 6px;
   border: 1px solid #ccc;
   font-size: 18px;
   font-weight: 600;
}

.contact-form button {
   align-self: flex-start;
   padding: 0.8rem 1.5rem;
   background: #ffb703;
   border: none;
   border-radius: 6px;
   color: #fff;
   cursor: pointer;
   margin-bottom: 20px;
}

.contact-form button:hover {
   background: #f1a107;
}

.success {
   color: green;
   margin-top: 10px;
   transition: opacity .3s;
}
</style>
